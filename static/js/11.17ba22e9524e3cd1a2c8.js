webpackJsonp([11],{AaTx:function(i,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=t("weWD"),s={render:function(){var i=this,o=i.$createElement,t=i._self._c||o;return t("div",{attrs:{id:"content"}},[t("div",{attrs:{id:"field"}},i._l(i.blocks,function(o){return t("div",{key:o[0].row,staticClass:"blockRow"},i._l(o,function(o){return t("div",{key:o.col,staticClass:"block"},[o.snake?t("div",{staticClass:"innerBlock snake"}):o.food?t("div",{staticClass:"innerBlock food"}):i._e()])}))})),i._v(" "),t("div",{staticStyle:{color:"white"}},[i._v("direction: "+i._s(i.snake.direction)+", length: "+i._s(i.snake.length))]),i._v(" "),t("el-dialog",{attrs:{title:"新游戏",center:"",visible:i.isDialogShow,width:"320px","show-close":i.falseData,"close-on-click-modal":i.falseData,"close-on-press-escape":i.falseData},on:{"update:visible":function(o){i.isDialogShow=o}}},[t("el-form",{attrs:{"label-width":"80px"}},[t("el-form-item",{attrs:{label:"格子大小"}},[t("el-input-number",{attrs:{min:5,step:5},model:{value:i.config.blockSize,callback:function(o){i.$set(i.config,"blockSize",o)},expression:"config.blockSize"}})],1),i._v(" "),t("el-form-item",{attrs:{label:"宽"}},[t("el-input-number",{attrs:{min:5},model:{value:i.config.width,callback:function(o){i.$set(i.config,"width",o)},expression:"config.width"}})],1),i._v(" "),t("el-form-item",{attrs:{label:"高"}},[t("el-input-number",{attrs:{min:5},model:{value:i.config.height,callback:function(o){i.$set(i.config,"height",o)},expression:"config.height"}})],1),i._v(" "),t("el-form-item",{attrs:{label:"间隔(ms)"}},[t("el-input-number",{attrs:{min:100,max:1e3,step:100},model:{value:i.config.interval,callback:function(o){i.$set(i.config,"interval",o)},expression:"config.interval"}})],1)],1),i._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(o){i.start()}}},[i._v("开始")])],1)],1)],1)},staticRenderFns:[]};var n=function(i){t("gofy")},c=t("vSla")(e.a,s,!1,n,"data-v-e2f601ea",null);o.default=c.exports},gofy:function(i,o){},weWD:function(i,o,t){"use strict";(function(i){o.a={name:"snake",data:function(){return{falseData:!1,isDialogShow:!0,config:{blockSize:40,width:10,height:10,interval:400},blocks:[],snake:{direction:"left",length:1,positions:[]},food:{row:0,col:0},isDestroyed:!1}},mounted:function(){var o=this;i(document).keydown(function(i){38!=i.keyCode&&87!=i.keyCode||"down"==o.snake.direction?40!=i.keyCode&&83!=i.keyCode||"up"==o.snake.direction?37!=i.keyCode&&65!=i.keyCode||"right"==o.snake.direction?39!=i.keyCode&&68!=i.keyCode||"left"==o.snake.direction||(o.snake.direction="right"):o.snake.direction="left":o.snake.direction="down":o.snake.direction="up"})},destroyed:function(){this.isDestroyed=!0},methods:{start:function(){var o=this;this.isDialogShow=!1,i("#field").css("width",this.config.width*this.config.blockSize).css("height",this.config.height*this.config.blockSize),this.blocks=[],this.snake={direction:"left",length:1,positions:[]},this.food={row:0,col:0};for(var t=0;t<this.config.height;t++){this.blocks.push([]);for(var e=0;e<this.config.width;e++)this.blocks[t].push({row:t,col:e,snake:!1,food:!1})}this.$nextTick(function(){i(".block").css("width",o.config.blockSize).css("height",o.config.blockSize)}),this.snake.positions.push({row:Math.floor(this.config.height/2),col:Math.floor(this.config.width/2)}),this.generateFood(),this.refresh(),this.step()},step:function(){var i=this;if(!this.isDestroyed){var o=this.snake.positions[0],t={},e=this.snake.positions[this.snake.length-1];this.snake.positions.splice(this.snake.length-1,1),"up"==this.snake.direction?t={row:o.row-1,col:o.col}:"down"==this.snake.direction?t={row:o.row+1,col:o.col}:"left"==this.snake.direction?t={row:o.row,col:o.col-1}:"right"==this.snake.direction&&(t={row:o.row,col:o.col+1}),this.refresh(),t.row>=0&&t.row<=this.config.height-1&&t.col>=0&&t.col<=this.config.width-1&&!this.blocks[t.row][t.col].snake?(this.snake.positions.unshift(t),this.blocks[t.row][t.col].food&&(this.snake.positions.push(e),this.snake.length++,this.blocks[t.row][t.col].food=!1,this.generateFood()),setTimeout(function(){i.step()},this.config.interval)):(this.$alert("GG, your score: "+this.snake.length,{callback:function(){i.isDialogShow=!0}}),this.snake.positions.push(e)),this.refresh()}},refresh:function(){this.blocks=[];for(var i=0;i<this.config.height;i++){this.blocks.push([]);for(var o=0;o<this.config.width;o++)this.blocks[i].push({row:i,col:o,snake:!1,food:!1})}for(var t in this.snake.positions)this.blocks[this.snake.positions[t].row][this.snake.positions[t].col].snake=!0;this.blocks[this.food.row][this.food.col].food=!0},generateFood:function(){this.refresh();var i=void 0,o=void 0;do{i=Math.floor(Math.random()*this.config.height),o=Math.floor(Math.random()*this.config.width)}while(this.blocks[i][o].snake);this.food.row=i,this.food.col=o}}}}).call(o,t("L7Pj"))}});
//# sourceMappingURL=11.17ba22e9524e3cd1a2c8.js.map