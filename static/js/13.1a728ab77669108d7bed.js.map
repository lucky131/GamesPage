{"version":3,"sources":["webpack:///./src/components/snake/snake.vue?b81c","webpack:///./src/components/snake/snake.vue","webpack:///src/components/snake/snake.vue"],"names":["snake_snake","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_l","row","key","staticClass","item","col","_e","_v","staticStyle","color","_s","snake","direction","length","title","center","visible","isDialogShow","width","show-close","falseData","close-on-click-modal","close-on-press-escape","on","update:visible","$event","label-width","label","min","step","model","value","config","callback","$$v","$set","expression","max","slot","type","click","start","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","__webpack_exports__","name","data","blockSize","height","interval","blocks","positions","food","isDestroyed","mounted","that","$","document","keydown","e","keyCode","destroyed","methods","_this","css","i","push","j","$nextTick","Math","floor","generateFood","refresh","_this2","headPosition","nextPosition","tailPosition","splice","unshift","setTimeout","$alert","index","random"],"mappings":"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","file":"static/js/13.1a728ab77669108d7bed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"content\"}},[_c('div',{attrs:{\"id\":\"field\"}},_vm._l((_vm.blocks),function(row){return _c('div',{key:row[0].row,staticClass:\"blockRow\"},_vm._l((row),function(item){return _c('div',{key:item.col,staticClass:\"block\"},[(item.snake)?_c('div',{staticClass:\"innerBlock snake\"}):(item.food)?_c('div',{staticClass:\"innerBlock food\"}):_vm._e()])}))})),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"direction: \"+_vm._s(_vm.snake.direction)+\", length: \"+_vm._s(_vm.snake.length))]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新游戏\",\"center\":\"\",\"visible\":_vm.isDialogShow,\"width\":\"320px\",\"show-close\":_vm.falseData,\"close-on-click-modal\":_vm.falseData,\"close-on-press-escape\":_vm.falseData},on:{\"update:visible\":function($event){_vm.isDialogShow=$event}}},[_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"格子大小\"}},[_c('el-input-number',{attrs:{\"min\":5,\"step\":5},model:{value:(_vm.config.blockSize),callback:function ($$v) {_vm.$set(_vm.config, \"blockSize\", $$v)},expression:\"config.blockSize\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"宽\"}},[_c('el-input-number',{attrs:{\"min\":5},model:{value:(_vm.config.width),callback:function ($$v) {_vm.$set(_vm.config, \"width\", $$v)},expression:\"config.width\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"高\"}},[_c('el-input-number',{attrs:{\"min\":5},model:{value:(_vm.config.height),callback:function ($$v) {_vm.$set(_vm.config, \"height\", $$v)},expression:\"config.height\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"间隔(ms)\"}},[_c('el-input-number',{attrs:{\"min\":100,\"max\":1000,\"step\":100},model:{value:(_vm.config.interval),callback:function ($$v) {_vm.$set(_vm.config, \"interval\", $$v)},expression:\"config.interval\"}})],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.start()}}},[_vm._v(\"开始\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-e2f601ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/snake/snake.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e2f601ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./snake.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./snake.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./snake.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e2f601ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./snake.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e2f601ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/snake/snake.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"content\">\n    <div id=\"field\">\n      <div class=\"blockRow\" v-for=\"row in blocks\" :key=\"row[0].row\">\n        <div class=\"block\" v-for=\"item in row\" :key=\"item.col\">\n          <div class=\"innerBlock snake\" v-if=\"item.snake\"></div>\n          <div class=\"innerBlock food\" v-else-if=\"item.food\"></div>\n        </div>\n      </div>\n    </div>\n    <div style=\"color: white\">direction: {{snake.direction}}, length: {{snake.length}}</div>\n    <el-dialog\n      title=\"新游戏\"\n      center\n      :visible.sync=\"isDialogShow\"\n      width=\"320px\"\n      :show-close=\"falseData\"\n      :close-on-click-modal=\"falseData\"\n      :close-on-press-escape=\"falseData\">\n      <el-form label-width=\"80px\">\n        <el-form-item label=\"格子大小\">\n          <el-input-number v-model=\"config.blockSize\" :min=\"5\" :step=\"5\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"宽\">\n          <el-input-number v-model=\"config.width\" :min=\"5\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"高\">\n          <el-input-number v-model=\"config.height\" :min=\"5\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"间隔(ms)\">\n          <el-input-number v-model=\"config.interval\" :min=\"100\" :max=\"1000\" :step=\"100\"></el-input-number>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"\">\n        <el-button type=\"primary\" @click=\"start()\">开始</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n  #content {\n    width: 100vw;\n    height: 100vh;\n    background-color: black;\n    display: flex;\n    flex-flow: column nowrap;\n    align-items: center;\n    justify-content: center;\n    #field{\n      border: 1px solid white;\n      .blockRow{\n        width: 100%;\n        overflow: hidden;\n        .block{\n          float: left;\n          .innerBlock{\n            width: 100%;\n            height: 100%;\n          }\n          .snake{\n            background-color: white;\n          }\n          .food{\n            background-color: red;\n          }\n        }\n      }\n    }\n    .el-form-item /deep/ .el-form-item__label{\n      padding-right: 20px;\n    }\n  }\n</style>\n\n<script>\n  export default {\n    name: 'snake',\n    data () {\n      return {\n        falseData: false,\n        isDialogShow: true,\n        config: {\n          blockSize: 40,\n          width: 10,\n          height: 10,\n          interval: 400\n        },\n        blocks: [],\n        snake: {\n          direction: \"left\",\n          length: 1,\n          positions: [],\n        },\n        food: {row: 0, col: 0},\n        isDestroyed: false,\n      }\n    },\n    mounted: function(){\n      let that = this;\n\n      //键盘事件\n      $(document).keydown(function (e) {\n        if((e.keyCode==38 || e.keyCode==87) && that.snake.direction != \"down\"){\n          that.snake.direction = \"up\";\n        } else if((e.keyCode==40 || e.keyCode==83) && that.snake.direction != \"up\"){\n          that.snake.direction = \"down\";\n        } else if((e.keyCode==37 || e.keyCode==65) && that.snake.direction != \"right\"){\n          that.snake.direction = \"left\";\n        } else if((e.keyCode==39 || e.keyCode==68) && that.snake.direction != \"left\"){\n          that.snake.direction = \"right\";\n        }\n      });\n    },\n    destroyed(){\n      this.isDestroyed = true;\n    },\n    methods: {\n      start(){\n        this.isDialogShow = false;\n\n        //初始化棋盘\n        $(\"#field\").css(\"width\", this.config.width * this.config.blockSize)\n          .css(\"height\", this.config.height * this.config.blockSize);\n\n        //生成blocks\n        this.blocks = [];\n        this.snake = {\n          direction: \"left\",\n            length: 1,\n            positions: [],\n        };\n        this.food = {row: 0, col: 0};\n        for(let i=0;i<this.config.height;i++){\n          this.blocks.push([]);\n          for(let j=0;j<this.config.width;j++){\n            this.blocks[i].push({\n              row: i,\n              col: j,\n              snake: false,\n              food: false\n            });\n          }\n        }\n\n        this.$nextTick(() => {\n          $(\".block\").css(\"width\", this.config.blockSize)\n            .css(\"height\", this.config.blockSize);\n        });\n\n        //出生点为中心\n        this.snake.positions.push({\n          row: Math.floor(this.config.height/2),\n          col: Math.floor(this.config.width/2),\n        });\n\n        this.generateFood();\n        this.refresh();\n        this.step();\n      },\n      step(){\n        if(this.isDestroyed) return;\n        let headPosition = this.snake.positions[0];\n        let nextPosition = {};\n        let tailPosition = this.snake.positions[this.snake.length-1];\n        //暂时删除屁股\n        this.snake.positions.splice(this.snake.length-1, 1);\n        //头移动\n        if(this.snake.direction==\"up\"){\n          nextPosition = {row: headPosition.row - 1, col: headPosition.col};\n        } else if(this.snake.direction==\"down\"){\n          nextPosition = {row: headPosition.row + 1, col: headPosition.col};\n        } else if(this.snake.direction==\"left\"){\n          nextPosition = {row: headPosition.row, col: headPosition.col - 1};\n        } else if(this.snake.direction==\"right\"){\n          nextPosition = {row: headPosition.row, col: headPosition.col + 1};\n        }\n\n        this.refresh();\n\n        //判断是否死亡\n        if(nextPosition.row >=0\n          && nextPosition.row <= this.config.height-1\n          && nextPosition.col >=0\n          && nextPosition.col <= this.config.width-1\n          && !this.blocks[nextPosition.row][nextPosition.col].snake){\n          //把头加上\n          this.snake.positions.unshift(nextPosition);\n          //判断是否吃了果实\n          if(this.blocks[nextPosition.row][nextPosition.col].food){\n            //把屁股加回来\n            this.snake.positions.push(tailPosition);\n            this.snake.length++;\n            //果实消失\n            this.blocks[nextPosition.row][nextPosition.col].food = false;\n            //重新生成一个果实\n            this.generateFood();\n          }\n          setTimeout(() => {\n            this.step();\n          }, this.config.interval);\n        } else {\n          this.$alert(\"GG, your score: \" + this.snake.length, {\n            callback: () => {\n              this.isDialogShow = true;\n            }\n          });\n          //死了也要把屁股加回来\n          this.snake.positions.push(tailPosition);\n        }\n\n        this.refresh();\n      },\n      refresh(){\n        this.blocks = [];\n        for(let i=0;i<this.config.height;i++){\n          this.blocks.push([]);\n          for(let j=0;j<this.config.width;j++){\n            this.blocks[i].push({\n              row: i,\n              col: j,\n              snake: false,\n              food: false\n            });\n          }\n        }\n        for(let index in this.snake.positions){\n          this.blocks[this.snake.positions[index].row][this.snake.positions[index].col].snake = true;\n        }\n        this.blocks[this.food.row][this.food.col].food = true;\n      },\n      generateFood(){\n        this.refresh();\n        let row, col;\n        do{\n          row = Math.floor(Math.random() * this.config.height);\n          col = Math.floor(Math.random() * this.config.width);\n        } while (this.blocks[row][col].snake);\n        this.food.row = row;\n        this.food.col = col;\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/snake/snake.vue"],"sourceRoot":""}