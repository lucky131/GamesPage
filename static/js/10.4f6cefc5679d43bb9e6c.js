webpackJsonp([10],{"9XSE":function(e,t,i){"use strict";t.a={data:function(){return{allData:[{},{level:1,bornLeft:100,bornBottom:800,floors:[{id:101,width:150,height:10,top:700,left:550,events:""},{id:102,width:100,height:10,top:600,left:400,events:""},{id:103,width:80,height:10,top:500,left:700,events:""},{id:104,width:150,height:10,top:450,left:100,events:""},{id:105,width:70,height:10,top:350,left:500,events:""},{id:106,width:60,height:10,top:300,left:850,events:""},{id:107,width:50,height:10,top:180,left:855,events:""},{id:108,width:40,height:10,top:100,left:650,events:""},{id:109,width:30,height:10,top:200,left:320,events:""},{id:110,width:30,height:10,top:120,left:130,color:"green",events:"level2"}]},{level:2,bornLeft:20,bornBottom:50,floors:[{id:201,width:50,height:10,top:50,left:0,events:""},{id:202,width:400,height:10,top:60,left:0,events:"slide50"},{id:203,width:10,height:350,top:0,left:450,events:""},{id:204,width:10,height:280,top:70,left:420,events:""},{id:205,width:20,height:10,top:340,left:430,color:"red",events:"die"},{id:206,width:50,height:10,top:130,left:0,events:""},{id:207,width:390,height:10,top:230,left:30,color:"red",events:"die"},{id:208,width:10,height:60,top:70,left:280,events:""},{id:209,width:10,height:120,top:110,left:70,events:""},{id:210,width:10,height:430,top:240,left:80,events:""},{id:211,width:50,height:10,top:400,left:0,color:"red",events:"die"},{id:212,width:50,height:10,top:550,left:30,color:"red",events:"die"},{id:213,width:50,height:10,top:660,left:90,events:""},{id:214,width:90,height:10,top:550,left:90,events:""},{id:215,width:130,height:10,top:440,left:90,events:""},{id:216,width:50,height:10,top:320,left:290,events:""},{id:217,width:30,height:10,top:320,left:460,events:""},{id:218,width:30,height:10,top:210,left:580,events:"remove217"},{id:219,width:10,height:180,top:40,left:570,events:""},{id:220,width:30,height:10,top:160,left:460,events:""},{id:221,width:150,height:10,top:40,left:680,events:""},{id:222,width:50,height:10,top:40,left:830,color:"orange",events:""},{id:223,width:10,height:50,top:0,left:880,events:""},{id:299,width:1e3,height:10,top:790,left:0,color:"red",events:"die"}]}]}}}},GMGl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("Mf6B"),o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"content"}},[i("div",{attrs:{id:"ope"}},[i("div",{attrs:{id:"levels"}},e._l(e.allData.length-1,function(t){return i("el-button",{key:t,attrs:{size:"small",type:"primary"},on:{click:function(i){e.changeLevel(t)}}},[e._v(e._s(t))])})),e._v(" "),i("el-row",[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.reset()}}},[e._v("Reset")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.changeDebug()}}},[e._v("debug模式："+e._s(e.config.debug?"开":"关"))])],1),e._v(" "),i("el-form",{attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"方块宽度"}},[i("el-slider",{attrs:{min:5,step:5,max:100,disabled:!e.config.debug},on:{change:function(t){e.changePlayerSize()}},model:{value:e.config.playerWidth,callback:function(t){e.$set(e.config,"playerWidth",t)},expression:"config.playerWidth"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"方块高度"}},[i("el-slider",{attrs:{min:5,step:5,max:100,disabled:!e.config.debug},on:{change:function(t){e.changePlayerSize()}},model:{value:e.config.playerHeight,callback:function(t){e.$set(e.config,"playerHeight",t)},expression:"config.playerHeight"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"移动加速度"}},[i("el-slider",{attrs:{min:0,step:1,max:100,disabled:!e.config.debug},model:{value:e.config.pushA,callback:function(t){e.$set(e.config,"pushA",t)},expression:"config.pushA"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"摩擦加速度"}},[i("el-slider",{attrs:{min:0,step:1,max:100,disabled:!e.config.debug},model:{value:e.config.fA,callback:function(t){e.$set(e.config,"fA",t)},expression:"config.fA"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"最大横向速度"}},[i("el-slider",{attrs:{min:0,step:1,max:100,disabled:!e.config.debug},model:{value:e.config.maxVx,callback:function(t){e.$set(e.config,"maxVx",t)},expression:"config.maxVx"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"最大纵向速度"}},[i("el-slider",{attrs:{min:0,step:1,max:100,disabled:!e.config.debug},model:{value:e.config.maxVy,callback:function(t){e.$set(e.config,"maxVy",t)},expression:"config.maxVy"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"重力g"}},[i("el-slider",{attrs:{min:0,step:1,max:30,disabled:!e.config.debug},on:{change:function(t){e.changeG()}},model:{value:e.config.g,callback:function(t){e.$set(e.config,"g",t)},expression:"config.g"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"跳跃速度"}},[i("el-slider",{attrs:{min:0,step:1,max:100,disabled:!e.config.debug},model:{value:e.config.jumpVy,callback:function(t){e.$set(e.config,"jumpVy",t)},expression:"config.jumpVy"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"跳跃次数"}},[i("el-slider",{attrs:{min:0,step:1,max:10,disabled:!e.config.debug},model:{value:e.config.maxJump,callback:function(t){e.$set(e.config,"maxJump",t)},expression:"config.maxJump"}})],1)],1)],1),e._v(" "),i("div",{attrs:{id:"board"},on:{click:e.mouseclick,mousemove:e.mousemove}},[e.config.debug?i("div",{attrs:{id:"stat"}},[e._v("\n      x: "+e._s(e.player.x)),i("br"),e._v("\n      y: "+e._s(e.player.y)),i("br"),e._v("\n      vx: "+e._s(e.player.vx)),i("br"),e._v("\n      vy: "+e._s(e.player.vy)),i("br"),e._v("\n      ax: "+e._s(e.player.ax)),i("br"),e._v("\n      ay: "+e._s(e.player.ay)),i("br"),e._v("\n      jump: "+e._s(e.player.jump)),i("br"),e._v("\n      mouseX: "+e._s(e.mouseX)),i("br"),e._v("\n      mouseY: "+e._s(e.mouseY)),i("br")]):e._e(),e._v(" "),i("div",{attrs:{id:"level"}},[e._v("Level: "+e._s(e.level))]),e._v(" "),i("div",{style:{top:e.player.y+"px",left:e.player.x+"px"},attrs:{id:"player"}}),e._v(" "),e._l(e.floors,function(t){return i("div",{key:t.id,staticClass:"floor",style:{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",backgroundColor:t.color?t.color:"black"}},[e.config.debug?i("span",[e._v(e._s(t.id))]):e._e()])})],2)])},staticRenderFns:[]};var a=function(e){i("QTp7")},r=i("vSla")(l.a,o,!1,a,"data-v-1050341e",null);t.default=r.exports},Mf6B:function(e,t,i){"use strict";(function(e){var l=i("9XSE");t.a={name:"jump",data:function(){return{config:{width:1e3,height:800,playerWidth:10,playerHeight:20,debug:!0,g:10,tick:.05,ticking:!0,pushA:50,fA:25,maxVx:50,maxVy:50,jumpVy:50,maxJump:1},player:{x:0,y:0,vx:0,vy:0,ax:0,ay:0,jump:0},floors:[],level:1,mouseX:0,mouseY:0}},mixins:[l.a],mounted:function(){var t=this;e("#board").css("width",this.config.width+"px").css("height",this.config.height+"px"),e("#player").css("width",this.config.playerWidth+"px").css("height",this.config.playerHeight+"px");var i=this;this.reset(),e(document).keydown(function(e){if(38==e.keyCode||87==e.keyCode)i.player.jump>0&&(i.player.vy=-i.config.jumpVy,i.player.jump--);else if(40==e.keyCode||83==e.keyCode);else if(37==e.keyCode||65==e.keyCode)i.player.ax=-i.config.pushA;else if(39==e.keyCode||68==e.keyCode)i.player.ax=i.config.pushA;else if(82==e.keyCode)i.reset();else if(e.keyCode>=49&&e.keyCode<=57){var t=e.keyCode-48;i.changeLevel(t)}}),e(document).keyup(function(e){38==e.keyCode||87==e.keyCode||40==e.keyCode||83==e.keyCode||(37==e.keyCode||65==e.keyCode?i.player.ax=0:39!=e.keyCode&&68!=e.keyCode||(i.player.ax=0))}),setTimeout(function(){t.nextTick()},100*this.config.tick)},methods:{nextTick:function(){var e=this;this.$nextTick(function(){for(var t in e.player.x+=e.player.vx*e.config.tick,e.player.y+=e.player.vy*e.config.tick,Math.abs(e.player.vx)<=e.config.maxVx&&(e.player.vx+=e.player.ax*e.config.tick),Math.abs(e.player.vy)<=e.config.maxVy&&(e.player.vy+=e.player.ay*e.config.tick),e.player.vx>0?e.player.vx-=e.config.fA*e.config.tick:e.player.vx<0&&(e.player.vx+=e.config.fA*e.config.tick),Math.abs(e.player.vx)<.1&&(e.player.vx=0),Math.abs(e.player.vy)<.1&&(e.player.vy=0),e.player.x<0&&e.player.vx<0&&(e.player.vx=0),e.floors)if(e.player.y>e.floors[t].top-e.config.playerHeight&&e.player.y<e.floors[t].top+e.floors[t].height&&e.player.x>e.floors[t].left-e.config.playerWidth-0&&e.player.x<e.floors[t].left-e.config.playerWidth+5&&e.player.vx>0){e.player.vx=0;break}for(var i in e.player.x>e.config.width-e.config.playerWidth&&e.player.vx>0&&(e.player.vx=0),e.floors)if(e.player.y>e.floors[i].top-e.config.playerHeight&&e.player.y<e.floors[i].top+e.floors[i].height&&e.player.x>e.floors[i].left+e.floors[i].width-5&&e.player.x<e.floors[i].left+e.floors[i].width+0&&e.player.vx<0){e.player.vx=0;break}for(var l in e.player.y<0&&e.player.vy<0&&(e.player.vy=-e.player.vy),e.floors)if(e.player.x>e.floors[l].left-e.config.playerWidth&&e.player.x<e.floors[l].left+e.floors[l].width&&e.player.y>e.floors[l].top+e.floors[l].height-4&&e.player.y<e.floors[l].top+e.floors[l].height+1&&e.player.vy<0){e.player.vy=-e.player.vy;break}for(var o in e.player.y>e.config.height-e.config.playerHeight-3&&e.player.y<e.config.height-e.config.playerHeight+2&&e.player.vy>0&&(e.player.vy=0,e.player.y=e.config.height-e.config.playerHeight,e.player.jump=e.config.maxJump),e.floors)if(e.player.x>e.floors[o].left-e.config.playerWidth&&e.player.x<e.floors[o].left+e.floors[o].width&&e.player.y>e.floors[o].top-e.config.playerHeight-2&&e.player.y<e.floors[o].top-e.config.playerHeight+3&&e.player.vy>0){if(e.player.vy=0,e.player.y=e.floors[o].top-e.config.playerHeight,e.player.jump=e.config.maxJump,e.floors[o].events.startsWith("level")){var a=e.floors[o].events.replace("level","");a=parseInt(a),e.level=a,e.reset()}else if(e.floors[o].events.startsWith("remove")){var r=e.floors[o].events.replace("remove","");for(var s in r=parseInt(r),e.floors)if(e.floors[s].id===r){e.floors.splice(s,1);break}e.floors[o].events=""}else if(e.floors[o].events.startsWith("slide")){var n=e.floors[o].events.replace("slide","");n=parseInt(n),e.player.vx=n}else"die"===e.floors[o].events&&e.reset();break}e.config.ticking&&setTimeout(function(){e.nextTick()},100*e.config.tick)})},mouseclick:function(){this.config.debug&&(this.player.x=this.mouseX,this.player.y=this.mouseY,this.player.vx=0,this.player.vy=0)},mousemove:function(e){e.target==e.currentTarget&&(this.mouseX=e.offsetX,this.mouseY=e.offsetY)},changeLevel:function(e){e<1||e>this.allData.length||(this.level=e,this.reset())},reset:function(){var t=this;this.player.x=this.allData[this.level].bornLeft,this.player.y=this.allData[this.level].bornBottom-2*this.config.playerHeight,this.player.vx=0,this.player.vy=0,this.player.ax=0,this.player.ay=this.config.g,this.player.jump=this.config.maxJump,this.floors=e.extend(!0,[],this.allData[this.level].floors),this.config.ticking||(this.config.ticking=!0,setTimeout(function(){t.nextTick()},100*this.config.tick))},changeDebug:function(){this.config.debug=!this.config.debug},changePlayerSize:function(){e("#player").css("width",this.config.playerWidth+"px").css("height",this.config.playerHeight+"px")},changeG:function(){this.player.ay=this.config.g}}}}).call(t,i("L7Pj"))},QTp7:function(e,t){}});
//# sourceMappingURL=10.4f6cefc5679d43bb9e6c.js.map