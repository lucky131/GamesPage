webpackJsonp([10],{"80DI":function(t,a){},Ugew:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("zIeX"),o={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"wrap"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDialogShow,expression:"!isDialogShow"}],staticClass:"board"},[i("div",{staticClass:"ope"},[i("el-form",{attrs:{"label-width":"60px"}},[i("el-form-item",{attrs:{label:"x"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.x,callback:function(a){t.$set(t.showData,"x",a)},expression:"showData.x"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"y"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.y,callback:function(a){t.$set(t.showData,"y",a)},expression:"showData.y"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"海拔"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.altitude,callback:function(a){t.$set(t.showData,"altitude",a)},expression:"showData.altitude"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"坡度"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.slope,callback:function(a){t.$set(t.showData,"slope",a)},expression:"showData.slope"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"地上水"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.overgroundWater,callback:function(a){t.$set(t.showData,"overgroundWater",a)},expression:"showData.overgroundWater"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"地下水"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.undergroundWater,callback:function(a){t.$set(t.showData,"undergroundWater",a)},expression:"showData.undergroundWater"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"植被"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.showData.vegetation,callback:function(a){t.$set(t.showData,"vegetation",a)},expression:"showData.vegetation"}})],1)],1)],1),t._v(" "),i("canvas",{attrs:{id:"c1"},on:{mousemove:t.mousemove,mouseout:t.mouseout}}),t._v(" "),i("div",{staticClass:"ope"},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"地图大小"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.config.mapSize,callback:function(a){t.$set(t.config,"mapSize",a)},expression:"config.mapSize"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"格子像素"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.config.blockPix,callback:function(a){t.$set(t.config,"blockPix",a)},expression:"config.blockPix"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"海平面"}},[i("el-input",{attrs:{size:"small",readonly:!0},model:{value:t.config.seaLevel,callback:function(a){t.$set(t.config,"seaLevel",a)},expression:"config.seaLevel"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"陆地等高距"}},[i("el-input-number",{attrs:{size:"small",min:1},on:{change:function(a){t.renderMap()}},model:{value:t.config.contourDistanceOfLand,callback:function(a){t.$set(t.config,"contourDistanceOfLand",a)},expression:"config.contourDistanceOfLand"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"海洋等高距"}},[i("el-input-number",{attrs:{size:"small",min:1},on:{change:function(a){t.renderMap()}},model:{value:t.config.contourDistanceOfOcean,callback:function(a){t.$set(t.config,"contourDistanceOfOcean",a)},expression:"config.contourDistanceOfOcean"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"植被等高距"}},[i("el-input-number",{attrs:{size:"small",min:1},on:{change:function(a){t.renderMap()}},model:{value:t.config.contourDistanceOfVegetation,callback:function(a){t.$set(t.config,"contourDistanceOfVegetation",a)},expression:"config.contourDistanceOfVegetation"}})],1)],1)],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDialogShow,expression:"!isDialogShow"}],staticClass:"btns"},[i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.isDialogShow=!0}}},[t._v("重开")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.start()}}},[t._v("重绘")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.addVege()}}},[t._v("植物传播")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.subVege()}}},[t._v("植物枯萎")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.changeSeaLevel(2)}}},[t._v("降雨")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.changeSeaLevel(-2)}}},[t._v("蒸发")])],1),t._v(" "),i("el-dialog",{attrs:{title:"新游戏",center:"",visible:t.isDialogShow,width:"360px","show-close":t.falseData,"close-on-click-modal":t.falseData,"close-on-press-escape":t.falseData},on:{"update:visible":function(a){t.isDialogShow=a}}},[i("el-form",{attrs:{"label-width":"100px"}},[i("el-form-item",{attrs:{label:"地图大小"}},[i("el-input-number",{attrs:{min:10,max:500,step:10},model:{value:t.config.mapSize,callback:function(a){t.$set(t.config,"mapSize",a)},expression:"config.mapSize"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"格子像素"}},[i("el-input-number",{attrs:{min:1,max:10,step:1},model:{value:t.config.blockPix,callback:function(a){t.$set(t.config,"blockPix",a)},expression:"config.blockPix"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"海平面"}},[i("el-input-number",{attrs:{min:0,step:2},model:{value:t.config.seaLevel,callback:function(a){t.$set(t.config,"seaLevel",a)},expression:"config.seaLevel"}})],1)],1),t._v(" "),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(a){t.start()}}},[t._v("开始")])],1)],1)],1)},staticRenderFns:[]};var n=function(t){i("80DI")},r=i("vSla")(e.a,o,!1,n,"data-v-494a0c16",null);a.default=r.exports},gclJ:function(t,a,i){"use strict";a.a={data:function(){return{}},methods:{linearColorRGB:function(t,a,i,e,o,n,r,s,h){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,m={};return h-=h%(l=l<1?1:l),m.r=Math.floor((n-a)/(o-t)*h+(a*o-n*t)/(o-t)),m.g=Math.floor((r-i)/(o-t)*h+(i*o-r*t)/(o-t)),m.b=Math.floor((s-e)/(o-t)*h+(e*o-s*t)/(o-t)),m},inverseColorRGB:function(t,a,i,e,o,n,r,s,h){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,m={};return h-=h%(l=l<1?1:l),m.r=Math.floor(o-t*(o-a)/((h-t)/s+t)),m.g=Math.floor(n-t*(n-i)/((h-t)/s+t)),m.b=Math.floor(r-t*(r-e)/((h-t)/s+t)),m},cosOfTwoVector:function(t,a,i,e){return(t*i+a*e)/Math.sqrt((t*t+a*a)*(i*i+e*e))}}}},zIeX:function(t,a,i){"use strict";(function(t){var e=i("gclJ");a.a={name:"eco",data:function(){return{isDialogShow:!0,falseData:!1,config:{mapSize:100,blockPix:6,seaLevel:40,maxHeight:0,contourDistanceOfLand:16,contourDistanceOfOcean:4,contourDistanceOfVegetation:4},showData:{i:"",j:"",altitude:"",slope:"",overgroundWater:"",undergroundWater:"",vegetation:""},map:[]}},mixins:[e.a],mounted:function(){},methods:{start:function(){this.isDialogShow=!1;var a=this.config.mapSize*this.config.blockPix;t("#c1").attr("width",a).attr("height",a),t(".board").css("height",a),this.initMap(),this.renderMap()},initMap:function(){this.map=new Array(this.config.mapSize);for(var t=0;t<this.config.mapSize;t++){this.map[t]=new Array(this.config.mapSize);for(var a=0;a<this.config.mapSize;a++)this.map[t][a]={i:t,j:a,altitude:0,slope:0,overgroundWater:0,undergroundWater:0,vegetation:0}}this.createMountain(this.config.mapSize/4,this.config.mapSize/4*2,80,160,this.config.mapSize/6,this.config.mapSize/8,3,2,1),this.createMountain(this.config.mapSize/6,this.config.mapSize/6*4,30,30,this.config.mapSize/6,this.config.mapSize/6,1,1,6),this.createMountain(0,this.config.mapSize,5,20,5,15,0,0,30),this.createMountain(0,this.config.mapSize,20,30,10,5,0,0,10),this.createMountain(this.config.mapSize/8,this.config.mapSize/8*6,16,16,this.config.mapSize/3,this.config.mapSize/3,1,0,5),this.waveGround(),this.smoothLand();for(var i=0;i<this.config.mapSize;i++)for(var e=0;e<this.config.mapSize;e++)this.config.maxHeight=Math.max(this.config.maxHeight,this.map[i][e].altitude);for(var o=0;o<this.config.mapSize;o++)for(var n=0;n<this.config.mapSize;n++)this.map[o][n].slope=(this.highestPos(o,n,1).altitude-this.lowestPos(o,n,1).altitude)/2;this.createOvergroundWater(),this.smoothOvergroundWater(1),this.smoothOvergroundWater(3),this.createUndergroundWater(),this.createVegetation(),this.smoothVegetation(1)},renderMap:function(){for(var t=document.getElementById("c1").getContext("2d"),a=0;a<this.config.mapSize;a++)for(var i=0;i<this.config.mapSize;i++){var e=null,o=this.linearColorRGB(this.config.seaLevel,240,219,130,350,74,47,0,this.map[a][i].altitude,this.config.contourDistanceOfLand);if(this.map[a][i].overgroundWater>5)e=this.linearColorRGB(this.config.seaLevel,0,0,60,5,120,223,233,this.map[a][i].overgroundWater,this.config.contourDistanceOfOcean),t.fillStyle="rgb("+e.r+","+e.g+","+e.b+")";else if(this.map[a][i].vegetation>0){var n=this.linearColorRGB(0,1,125,10,200,78,60,16,this.map[a][i].altitude);e=this.linearColorRGB(25,n.r,n.g,n.b,0,o.r,o.g,o.b,this.map[a][i].vegetation,this.config.contourDistanceOfVegetation),t.fillStyle="rgb("+e.r+","+e.g+","+e.b+")"}else this.map[a][i].overgroundWater>0?(e=this.linearColorRGB(5,120,223,233,0,o.r,o.g,o.b,this.map[a][i].overgroundWater,1),t.fillStyle="rgb("+e.r+","+e.g+","+e.b+")"):(e=o,t.fillStyle="rgb("+e.r+","+e.g+","+e.b+")");t.fillRect(a*this.config.blockPix,i*this.config.blockPix,this.config.blockPix,this.config.blockPix)}},mousemove:function(t){var a=Math.floor(t.offsetX/this.config.blockPix),i=Math.floor(t.offsetY/this.config.blockPix);a=Math.max(0,Math.min(this.config.mapSize-1,a)),i=Math.max(0,Math.min(this.config.mapSize-1,i)),this.showData.x=a,this.showData.y=i,this.showData.altitude=this.map[a][i].altitude,this.showData.slope=this.map[a][i].slope,this.showData.overgroundWater=this.map[a][i].overgroundWater,this.showData.undergroundWater=this.map[a][i].undergroundWater,this.showData.vegetation=this.map[a][i].vegetation},mouseout:function(t){this.showData.x="",this.showData.y="",this.showData.altitude="",this.showData.slope="",this.showData.overgroundWater="",this.showData.undergroundWater="",this.showData.vegetation=""},changeAltitude:function(t,a,i,e,o){t=Math.max(Math.floor(t),0),a=Math.max(Math.floor(a),0),i=Math.min(Math.floor(i),this.config.mapSize-1),e=Math.min(Math.floor(e),this.config.mapSize-1);for(var n=t;n<=i;n++)for(var r=a;r<=e;r++)this.map[n][r].altitude+=o},changeUndergroundWater:function(t,a,i,e,o){t=Math.max(Math.floor(t),0),a=Math.max(Math.floor(a),0),i=Math.min(Math.floor(i),this.config.mapSize-1),e=Math.min(Math.floor(e),this.config.mapSize-1);for(var n=t;n<=i;n++)for(var r=a;r<=e;r++)this.map[n][r].undergroundWater+=o},changeOvergroundWater:function(t,a,i,e,o){t=Math.max(Math.floor(t),0),a=Math.max(Math.floor(a),0),i=Math.min(Math.floor(i),this.config.mapSize-1),e=Math.min(Math.floor(e),this.config.mapSize-1);for(var n=t;n<=i;n++)for(var r=a;r<=e;r++)this.map[n][r].overgroundWater+=o},changeVegetation:function(t,a,i,e,o){t=Math.max(Math.floor(t),0),a=Math.max(Math.floor(a),0),i=Math.min(Math.floor(i),this.config.mapSize-1),e=Math.min(Math.floor(e),this.config.mapSize-1);for(var n=t;n<=i;n++)for(var r=a;r<=e;r++)this.map[n][r].vegetation+=o},createMountain:function(t,a,i,e,o,n,r,s,h){for(var l=0;l<h;l++)this.createMountainCore(t,a,i,e,o,n,r,s)},createMountainCore:function(t,a,i,e,o,n,r,s){for(var h=t+Math.floor(Math.random()*a),l=t+Math.floor(Math.random()*a),m=i+Math.random()*e,f=o+Math.floor(Math.random()*n),c=0;c<this.config.mapSize;c++)for(var u=0;u<this.config.mapSize;u++){var g=Math.sqrt((h-c)*(h-c)+(l-u)*(l-u));g<=f&&(this.map[c][u].altitude+=(Math.cos(g*Math.PI/f)+1)*m/2),g<=4*f/3&&(this.map[c][u].altitude+=Math.random()*m/40)}for(var p=0;p<r;p++)for(var d=Math.random()-.5,v=Math.random()-.5,S=0;S<this.config.mapSize;S++)for(var z=0;z<this.config.mapSize;z++){var M=Math.sqrt((S-h)*(S-h)+(z-l)*(z-l)),b=S-h,w=z-l,x=this.cosOfTwoVector(b,w,d,v);if(M<=.8*f&&x>.9995){var D=S+(2*Math.random()-1)*M/8,W=z+(2*Math.random()-1)*M/8;this.changeAltitude(D-M/10,W-M/10,D+M/10,W+M/10,1-1/(M+1))}}for(var y=0;y<s;y++)for(var k=Math.random()-.5,_=Math.random()-.5,O=0;O<this.config.mapSize;O++)for(var L=0;L<this.config.mapSize;L++){var P=Math.sqrt((O-h)*(O-h)+(L-l)*(L-l)),V=O-h,$=L-l,A=this.cosOfTwoVector(V,$,k,_);if(P<=.8*f&&A>.9995){var C=O+(2*Math.random()-1)*P/8,G=L+(2*Math.random()-1)*P/8;this.changeAltitude(C-P/10,G-P/10,C+P/10,G+P/10,1/(P+1)-1)}}},createRiver:function(t,a){var i=this.highestPos(this.config.mapSize/2,this.config.mapSize/2,this.config.mapSize/2),e=i.x,o=i.y,n=void 0,r=void 0;do{n=e+Math.floor(Math.random()*t*2-t),r=o+Math.floor(Math.random()*t*2-t),n=Math.max(0,Math.min(this.config.mapSize-1,n)),r=Math.max(0,Math.min(this.config.mapSize-1,r))}while(this.map[n][r].overgroundWater>0);for(;n>=0&&r>=0&&n<=this.config.mapSize-1&&r<=this.config.mapSize-1&&this.map[n][r].altitude>this.config.seaLevel&&this.map[n][r].overgroundWater<15;){this.changeOvergroundWater(n-a/2,r-a/2,n+a/2,r+a/2,10*a/(10+this.map[n][r].slope));var s=this.lowestPos(n,r,a);if(s.x==n&&s.y==r)break;n=Math.floor((n+s.x)/2+Math.random()*a-a/2),r=Math.floor((r+s.y)/2+Math.random()*a-a/2)}},createOvergroundWater:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++)this.map[t][a].overgroundWater=0;for(var i=0;i<this.config.mapSize;i++)for(var e=0;e<this.config.mapSize;e++)this.config.seaLevel-this.map[i][e].altitude>0?(this.map[i][e].overgroundWater=this.config.seaLevel-this.map[i][e].altitude,this.map[i][e].vegetation=0):this.map[i][e].overgroundWater=0},createUndergroundWater:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++)this.map[t][a].undergroundWater=0;for(var i=0;i<this.config.mapSize;i++)for(var e=0;e<this.config.mapSize;e++)if(this.map[i][e].overgroundWater>0){var o=this.map[i][e].slope+this.map[i][e].overgroundWater/3;this.changeUndergroundWater(i-o,e-o,i+o,e+o,Math.log(this.map[i][e].overgroundWater/50+1))}},createVegetation:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++)if(this.canGrowVegetation(t,a)){var i=5*Math.log(this.map[t][a].undergroundWater+1)*.2*(-10*this.map[t][a].overgroundWater+1)*(200/(this.map[t][a].altitude-this.config.seaLevel+200))*(Math.random()/5+.9),e=i/(i+3);if(Math.random()<e){var o=i;this.changeVegetation(t-o,a-o,t+o,a+o,i)}}},canGrowVegetation:function(t,a){return this.map[t][a].overgroundWater<.1&&this.map[t][a].undergroundWater>0},highestPos:function(t,a,i){for(var e={},o=-10086,n=Math.max(0,t-i),r=Math.max(0,a-i),s=Math.min(this.config.mapSize-1,t+i),h=Math.min(this.config.mapSize-1,a+i),l=n;l<=s;l++)for(var m=r;m<=h;m++)this.map[l][m].altitude>o&&(o=this.map[l][m].altitude,e.x=l,e.y=m,e.altitude=o);return e},lowestPos:function(t,a,i){for(var e={},o=this.config.maxHeight,n=Math.max(0,t-i),r=Math.max(0,a-i),s=Math.min(this.config.mapSize-1,t+i),h=Math.min(this.config.mapSize-1,a+i),l=n;l<=s;l++)for(var m=r;m<=h;m++)this.map[l][m].altitude<o&&(o=this.map[l][m].altitude,e.x=l,e.y=m,e.altitude=o);return e},waveGround:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++){var i=Math.floor(10*Math.random());this.map[t][a].altitude+=i}for(var e=0;e<this.config.mapSize;e+=2)for(var o=0;o<this.config.mapSize;o+=2){var n=Math.floor(6*Math.random());this.changeAltitude(e,o,e+1,o+1,n)}for(var r=0;r<this.config.mapSize;r+=4)for(var s=0;s<this.config.mapSize;s+=4){var h=Math.floor(2*Math.random());this.changeAltitude(r,s,r+3,s+3,h)}},smoothLand:function(){for(var t=new Array(this.config.mapSize),a=0;a<this.config.mapSize;a++){t[a]=new Array(this.config.mapSize);for(var i=0;i<this.config.mapSize;i++)t[a][i]={},t[a][i].altitude=this.map[a][i].altitude}for(var e=0;e<this.config.mapSize;e++)for(var o=0;o<this.config.mapSize;o++)0==e&&0==o?t[e][o].altitude=(this.map[e][o].altitude+this.map[e][o+1].altitude+this.map[e+1][o].altitude+this.map[e+1][o+1].altitude)/4:e==this.config.mapSize-1&&0==o?t[e][o].altitude=(this.map[e-1][o].altitude+this.map[e-1][o+1].altitude+this.map[e][o].altitude+this.map[e][o+1].altitude)/4:0==e&&o==this.config.mapSize-1?t[e][o].altitude=(this.map[e][o-1].altitude+this.map[e][o].altitude+this.map[e+1][o-1].altitude+this.map[e+1][o].altitude)/4:e==this.config.mapSize-1&&o==this.config.mapSize-1?t[e][o].altitude=(this.map[e-1][o-1].altitude+this.map[e-1][o].altitude+this.map[e][o-1].altitude+this.map[e][o].altitude)/4:0==e?t[e][o].altitude=(this.map[e][o-1].altitude+this.map[e][o].altitude+this.map[e][o+1].altitude+this.map[e+1][o-1].altitude+this.map[e+1][o].altitude+this.map[e+1][o+1].altitude)/6:e==this.config.mapSize-1?t[e][o].altitude=(this.map[e-1][o-1].altitude+this.map[e-1][o].altitude+this.map[e-1][o+1].altitude+this.map[e][o-1].altitude+this.map[e][o].altitude+this.map[e][o+1].altitude)/6:0==o?t[e][o].altitude=(this.map[e-1][o].altitude+this.map[e-1][o+1].altitude+this.map[e][o].altitude+this.map[e][o+1].altitude+this.map[e+1][o].altitude+this.map[e+1][o+1].altitude)/6:o==this.config.mapSize-1?t[e][o].altitude=(this.map[e-1][o-1].altitude+this.map[e-1][o].altitude+this.map[e][o-1].altitude+this.map[e][o].altitude+this.map[e+1][o-1].altitude+this.map[e+1][o].altitude)/6:t[e][o].altitude=(this.map[e-1][o-1].altitude+this.map[e-1][o].altitude+this.map[e-1][o+1].altitude+this.map[e][o-1].altitude+this.map[e][o].altitude+this.map[e][o+1].altitude+this.map[e+1][o-1].altitude+this.map[e+1][o].altitude+this.map[e+1][o+1].altitude)/9;for(var n=0;n<this.config.mapSize;n++)for(var r=0;r<this.config.mapSize;r++)this.map[n][r].altitude=t[n][r].altitude},smoothOvergroundWater:function(t){for(var a=new Array(this.config.mapSize),i=0;i<this.config.mapSize;i++){a[i]=new Array(this.config.mapSize);for(var e=0;e<this.config.mapSize;e++)a[i][e]={},a[i][e].overgroundWater=this.map[i][e].overgroundWater}for(var o=0;o<this.config.mapSize;o++)for(var n=0;n<this.config.mapSize;n++)if(this.map[o][n].altitude>this.config.seaLevel-t){for(var r=Math.max(0,o-t),s=Math.max(0,n-t),h=Math.min(this.config.mapSize-1,o+t),l=Math.min(this.config.mapSize-1,n+t),m=0,f=r;f<=h;f++)for(var c=s;c<=l;c++)m+=this.map[f][c].overgroundWater;a[o][n].overgroundWater=m/(t+t+1)/(t+t+1)}for(var u=0;u<this.config.mapSize;u++)for(var g=0;g<this.config.mapSize;g++)this.map[u][g].overgroundWater=a[u][g].overgroundWater},smoothVegetation:function(t){for(var a=new Array(this.config.mapSize),i=0;i<this.config.mapSize;i++){a[i]=new Array(this.config.mapSize);for(var e=0;e<this.config.mapSize;e++)a[i][e]={},a[i][e].vegetation=this.map[i][e].vegetation}for(var o=0;o<this.config.mapSize;o++)for(var n=0;n<this.config.mapSize;n++)if(this.map[o][n].overgroundWater<.5){for(var r=Math.max(0,o-t),s=Math.max(0,n-t),h=Math.min(this.config.mapSize-1,o+t),l=Math.min(this.config.mapSize-1,n+t),m=0,f=r;f<=h;f++)for(var c=s;c<=l;c++)m+=this.map[f][c].vegetation;a[o][n].vegetation=m/(t+t+1)/(t+t+1)}for(var u=0;u<this.config.mapSize;u++)for(var g=0;g<this.config.mapSize;g++)this.map[u][g].vegetation=a[u][g].vegetation},addVege:function(){this.winding(),this.seeding(),this.renderMap()},seeding:function(){for(var t=new Array(this.config.mapSize),a=0;a<this.config.mapSize;a++){t[a]=new Array(this.config.mapSize);for(var i=0;i<this.config.mapSize;i++)t[a][i]={vegetation:0}}for(var e=0;e<this.config.mapSize;e++)for(var o=0;o<this.config.mapSize;o++){var n=this.map[e][o].vegetation,r=1+Math.exp(-n/3);t[e][o].vegetation=this.map[e][o].vegetation*r}for(var s=0;s<this.config.mapSize;s++)for(var h=0;h<this.config.mapSize;h++)this.map[s][h].vegetation=t[s][h].vegetation},winding:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++)this.canGrowVegetation(t,a)&&Math.random()<.01&&this.changeVegetation(t-1,a-1,t+1,a+1,.5)},subVege:function(){for(var t=0;t<this.config.mapSize;t++)for(var a=0;a<this.config.mapSize;a++)this.map[t][a].vegetation<1?this.map[t][a].vegetation=0:this.map[t][a].vegetation*=.8;this.renderMap()},changeSeaLevel:function(t){var a=this.config.seaLevel+t;a>=0&&(this.config.seaLevel=a,this.createOvergroundWater(),this.createUndergroundWater(),this.renderMap())}}}}).call(a,i("L7Pj"))}});
//# sourceMappingURL=10.1754cd0c445d27c52c68.js.map