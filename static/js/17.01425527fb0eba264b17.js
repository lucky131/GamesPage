webpackJsonp([17],{R5m9:function(t,i,e){"use strict";(function(t){i.a={name:"linkingGame",data:function(){return{falseData:!1,isDialogShow:!0,config:{blockSize:50,width:8,height:8,colors:["#ffffff","#ff5353","#ffa23b","#fff957","#b5ff61","#68ffaf","#76cdff","#7c59ff","#f595ff","#aeaeae","#525252"]},blocks:[],selected:!1,selectedRow:0,selectedCol:0,startTime:null}},mounted:function(){},methods:{start:function(){var i=this;this.isDialogShow=!1,this.startTime=new Date,t("#board").css("width",(this.config.width+2)*this.config.blockSize).css("height",(this.config.height+2)*this.config.blockSize),this.blocks=[];for(var e=0;e<this.config.height+2;e++){this.blocks.push([]);for(var o=0;o<this.config.width+2;o++)this.blocks[e].push({row:e,col:o,color:0,selected:!1})}this.$nextTick(function(){t(".block").css("width",i.config.blockSize).css("height",i.config.blockSize)});for(var s=0,c=!0,l=1;l<=this.config.height;l++)for(var n=1;n<=this.config.width;n++)c?(s=Math.floor(Math.random()*(this.config.colors.length-1))+1,c=!1):c=!0,this.blocks[l][n].color=s;for(var h=1;h<=this.config.height;h++)for(var r=1;r<=this.config.width;r++){var a=Math.floor(Math.random()*this.config.height)+1,f=Math.floor(Math.random()*this.config.width)+1,d=this.blocks[h][r].color;this.blocks[h][r].color=this.blocks[a][f].color,this.blocks[a][f].color=d}},click:function(t,i){var e=this;this.selected?0==this.blocks[t][i].color||t==this.selectedRow&&i==this.selectedCol?(this.blocks[this.selectedRow][this.selectedCol].selected=!1,this.selected=!1):this.blocks[t][i].color==this.blocks[this.selectedRow][this.selectedCol].color&&this.canLink(t,i,this.selectedRow,this.selectedCol)?(this.blocks[t][i].color=0,this.blocks[this.selectedRow][this.selectedCol].color=0,this.blocks[this.selectedRow][this.selectedCol].selected=!1,this.selected=!1,this.$nextTick(function(){if(e.isWin()){var t=((new Date).getTime()-e.startTime.getTime())/1e3;e.$alert("Win! Time: "+t+" s",{callback:function(){e.isDialogShow=!0}})}})):(this.blocks[this.selectedRow][this.selectedCol].selected=!1,this.blocks[t][i].selected=!0,this.selectedRow=t,this.selectedCol=i):t>=1&&t<=this.config.height&&i>=1&&i<=this.config.width&&0!=this.blocks[t][i].color&&(this.blocks[t][i].selected=!0,this.selected=!0,this.selectedRow=t,this.selectedCol=i)},canLink:function(t,i,e,o){return!!this.canLinkBy1(t,i,e,o)||(!!this.canLinkBy2(t,i,e,o)||!!this.canLinkBy3(t,i,e,o))},canLinkBy1:function(t,i,e,o){var s=0,c=0,l=0;if(t==e){s=Math.min(i,o),c=Math.max(i,o);for(var n=s+1;n<=c-1;n++)l+=this.blocks[t][n].color;return 0==l}if(i==o){s=Math.min(t,e),c=Math.max(t,e);for(var h=s+1;h<=c-1;h++)l+=this.blocks[h][i].color;return 0==l}return!1},canLinkBy2:function(t,i,e,o){return!(0!=this.blocks[t][o].color||!this.canLinkBy1(t,i,t,o)||!this.canLinkBy1(t,o,e,o))||!(0!=this.blocks[e][i].color||!this.canLinkBy1(t,i,e,i)||!this.canLinkBy1(e,i,e,o))},canLinkBy3:function(t,i,e,o){for(var s=0;s<this.config.height+2;s++)for(var c=0;c<this.config.width+2;c++)if(0==this.blocks[s][c].color&&this.canLinkBy1(t,i,s,c)&&this.canLinkBy2(s,c,e,o))return!0;return!1},isWin:function(){for(var t=1;t<=this.config.height;t++)for(var i=1;i<=this.config.width;i++)if(0!=this.blocks[t][i].color)return!1;return!0}}}}).call(i,e("7t+N"))},ULe8:function(t,i){},"c6J/":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("R5m9"),s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"content"}},[e("div",{attrs:{id:"board"}},t._l(t.blocks,function(i){return e("div",{key:i[0].row,staticClass:"blockRow"},t._l(i,function(i){return e("div",{key:i.col,staticClass:"block",style:{backgroundColor:t.config.colors[i.color],borderWidth:0==i.color?"0":"5px"},on:{click:function(e){return t.click(i.row,i.col)}}},[i.selected?e("i",{staticClass:"el-icon-star-on"}):t._e()])}),0)}),0),t._v(" "),e("el-dialog",{attrs:{title:"新游戏",center:"",visible:t.isDialogShow,width:"320px","show-close":t.falseData,"close-on-click-modal":t.falseData,"close-on-press-escape":t.falseData},on:{"update:visible":function(i){t.isDialogShow=i}}},[e("el-form",{attrs:{"label-width":"80px"}},[e("el-form-item",{attrs:{label:"格子大小"}},[e("el-input-number",{attrs:{min:30,step:5},model:{value:t.config.blockSize,callback:function(i){t.$set(t.config,"blockSize",i)},expression:"config.blockSize"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"宽"}},[e("el-input-number",{attrs:{min:4,step:2},model:{value:t.config.width,callback:function(i){t.$set(t.config,"width",i)},expression:"config.width"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"高"}},[e("el-input-number",{attrs:{min:4,step:2},model:{value:t.config.height,callback:function(i){t.$set(t.config,"height",i)},expression:"config.height"}})],1)],1),t._v(" "),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.start()}}},[t._v("开始")])],1)],1)],1)},staticRenderFns:[]};var c=function(t){e("ULe8")},l=e("VU/8")(o.a,s,!1,c,"data-v-1cb665ba",null);i.default=l.exports}});
//# sourceMappingURL=17.01425527fb0eba264b17.js.map