webpackJsonp([13],{"0koM":function(t,i){},"2LLb":function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=s("HHxW"),e={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"content"},on:{mouseup:[function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"left",37,i.key,["Left","ArrowLeft"])?null:"button"in i&&0!==i.button?null:t.mouseup()},function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"right",39,i.key,["Right","ArrowRight"])?null:"button"in i&&2!==i.button?null:t.mouseup()}]}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDialogShow,expression:"!isDialogShow"}],attrs:{id:"board"}},[s("div",{staticClass:"tip",attrs:{id:"tipTop"}},t._l(t.topBlocks,function(i,o){return s("div",{key:o},t._l(i,function(i,o){return s("span",{key:o},[t._v(t._s(i))])}),0)}),0),t._v(" "),s("div",{staticClass:"tip",attrs:{id:"tipLeft"}},t._l(t.leftBlocks,function(i,o){return s("div",{key:o},t._l(i,function(i,o){return s("span",{key:o},[t._v(t._s(i))])}),0)}),0),t._v(" "),s("div",{attrs:{id:"field"}},t._l(t.blocks,function(i){return s("div",{key:i.index,staticClass:"block",on:{mousedown:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"left",37,s.key,["Left","ArrowLeft"])?null:"button"in s&&0!==s.button?null:t.leftDown(i.index)},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"right",39,s.key,["Right","ArrowRight"])?null:"button"in s&&2!==s.button?null:t.rightDown(i.index)}],mouseenter:function(s){return t.enter(i.index)}}},[i.x?s("div",{staticClass:"innerBlock xBlock"},[s("i",{staticClass:"el-icon-close"})]):i.fill?s("div",{staticClass:"innerBlock fillBlock"}):s("div",{staticClass:"innerBlock"})])}),0)]),t._v(" "),s("el-dialog",{attrs:{title:"新游戏",center:"",visible:t.isDialogShow,width:"320px","show-close":t.falseData,"close-on-click-modal":t.falseData,"close-on-press-escape":t.falseData},on:{"update:visible":function(i){t.isDialogShow=i}}},[s("el-form",{attrs:{"label-width":"60px"}},[s("el-form-item",{attrs:{label:"宽"}},[s("el-input-number",{attrs:{min:5,max:20,step:5},model:{value:t.config.width,callback:function(i){t.$set(t.config,"width",i)},expression:"config.width"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"高"}},[s("el-input-number",{attrs:{min:5,max:15,step:5},model:{value:t.config.height,callback:function(i){t.$set(t.config,"height",i)},expression:"config.height"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"密度"}},[s("el-slider",{staticStyle:{width:"180px"},attrs:{min:.2,max:1,step:.01},model:{value:t.config.density,callback:function(i){t.$set(t.config,"density",i)},expression:"config.density"}})],1)],1),t._v(" "),s("span",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.start()}}},[t._v("开始")])],1)],1)],1)},staticRenderFns:[]};var n=function(t){s("0koM")},l=s("C7Lr")(o.a,e,!1,n,"data-v-456acc78",null);i.default=l.exports},HHxW:function(t,i,s){"use strict";(function(t){i.a={name:"picross",data:function(){return{falseData:!1,isDialogShow:!0,config:{blockSize:40,width:10,height:10,density:.5},blocks:[],topBlocks:[],leftBlocks:[],mouseStatus:0,startTime:null}},mounted:function(){},methods:{start:function(){this.isDialogShow=!1,this.startTime=new Date,this.mouseStatus=0,t("#board").css("width",this.config.width*this.config.blockSize+150).css("height",this.config.height*this.config.blockSize+150),t("#tipTop").css("width",this.config.width*this.config.blockSize),t("#tipLeft").css("height",this.config.height*this.config.blockSize),t("#field").css("width",this.config.width*this.config.blockSize).css("height",this.config.height*this.config.blockSize),this.blocks=[];for(var i=0;i<this.config.height;i++)for(var s=0;s<this.config.width;s++)this.blocks.push({row:i,col:s,index:i*this.config.width+s,answer:Math.random()<this.config.density,fill:!1,x:!1});this.topBlocks=[];for(var o=0;o<this.config.width;o++)this.topBlocks.push([]);this.leftBlocks=[];for(var e=0;e<this.config.height;e++)this.leftBlocks.push([]);for(var n=0;n<this.config.width;n++){for(var l=0,c=0;c<this.config.height;c++){var h=c*this.config.width+n;this.blocks[h].answer?l++:l>0&&(this.topBlocks[n].push(l),l=0)}l>0&&this.topBlocks[n].push(l)}for(var a=0;a<this.config.height;a++){for(var r=0,f=0;f<this.config.width;f++){var u=a*this.config.width+f;this.blocks[u].answer?r++:r>0&&(this.leftBlocks[a].push(r),r=0)}r>0&&this.leftBlocks[a].push(r)}},leftDown:function(t){this.blocks[t].x||(this.blocks[t].fill?this.mouseStatus=2:this.mouseStatus=1,this.enter(t))},rightDown:function(t){this.blocks[t].x?this.mouseStatus=4:this.blocks[t].fill?this.mouseStatus=2:this.mouseStatus=3,this.enter(t)},mouseup:function(){this.mouseStatus=0},enter:function(t){1===this.mouseStatus?this.blank2fill(t):2===this.mouseStatus?this.fill2blank(t):3===this.mouseStatus?this.blank2x(t):4===this.mouseStatus&&this.x2blank(t)},blank2fill:function(t){this.blocks[t].x||this.blocks[t].fill||(this.blocks[t].fill=!0,this.handleWin())},fill2blank:function(t){!this.blocks[t].x&&this.blocks[t].fill&&(this.blocks[t].fill=!1,this.handleWin())},blank2x:function(t){this.blocks[t].x||this.blocks[t].fill||(this.blocks[t].x=!0)},x2blank:function(t){this.blocks[t].x&&!this.blocks[t].fill&&(this.blocks[t].x=!1)},handleWin:function(){var t=this;if(this.isWin()){var i=((new Date).getTime()-this.startTime.getTime())/1e3;this.$alert("Win! Your score: "+i+" s",{callback:function(){t.isDialogShow=!0}})}},isWin:function(){for(var t=0;t<this.config.height;t++)for(var i=0;i<this.config.width;i++){var s=t*this.config.width+i;if(this.blocks[s].answer!==this.blocks[s].fill)return!1}return!0}}}}).call(i,s("5u2O"))}});
//# sourceMappingURL=13.824b05797e835db8df23.js.map